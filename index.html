<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test and grab my scripts</title>
    <link rel="stylesheet" href="./assets/styles/main.css">
</head>
<body>
    <h1>Test and grab my scripts</h1> 
    <div class="code-container coffee-8bit">
        <h2>Test Coffee 8bit Button</h2>
        <script src="/scripts/buy-me-coffee-button-8bit.js"></script>
        <div class="code-block">
            <button class="copy-button">Copy</button>
            <pre><code>&lt;script src="https://pmanikas.github.io/pmanikas/scripts/buy-me-coffee-button-8bit.js"&gt;&lt;/script&gt;</code></pre>
        </div>
    </div>

    <!-- Github 8bit link -->
    <div class="code-container github-8bit">
        <h2>Test Github 8bit Button</h2>
        <script src="https://pmanikas.github.io/pmanikas/scripts/github-button-8bit.js"></script>
        <div class="code-block">
            <button class="copy-button">Copy</button>
            <pre><code>&lt;script src="https://pmanikas.github.io/pmanikas/scripts/github-button-8bit.js"&gt;&lt;/script&gt;</code></pre>
        </div>
    </div>

    <script>
        document.querySelectorAll('.copy-button').forEach(button => {
            button.addEventListener('click', async () => {
                const codeBlock = button.nextElementSibling.querySelector('code');
                const text = codeBlock.textContent;

                try {
                    await navigator.clipboard.writeText(text);
                    button.textContent = 'Copied!';
                    button.classList.add('copied');
                    
                    setTimeout(() => {
                        button.textContent = 'Copy';
                        button.classList.remove('copied');
                    }, 2000);
                } catch (err) {
                    console.error('Failed to copy text:', err);
                    button.textContent = 'Failed to copy';
                    
                    setTimeout(() => {
                        button.textContent = 'Copy';
                    }, 2000);
                }
            });
        });
    </script>
</body>
</html>
